{% extends "base.html" %}

{% block title %}Challenges - Finance Gamification{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h4 class="mb-0"><i class="fas fa-trophy me-2"></i>Your Challenges</h4>
    </div>
    <div class="card-body">
        <div class="row">
            {% if character.active_challenges %}
                {% for challenge in character.active_challenges %}
                    <div class="col-md-6 mb-4">
                        <div class="card h-100 challenge-card">
                            <div class="card-body">
                                <h5 class="card-title">{{ challenge.title }}</h5>
                                <p class="card-text">{{ challenge.description }}</p>
                                <div class="progress mb-3">
                                    <div class="progress-bar bg-success" role="progressbar" 
                                         style="width: {{ challenge.progress }}%"
                                         aria-valuenow="{{ challenge.progress }}" 
                                         aria-valuemin="0" 
                                         aria-valuemax="100">
                                        {{ challenge.progress }}%
                                    </div>
                                </div>
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="badge bg-{{ 'success' if challenge.is_completed else 'secondary' }}">
                                        {{ 'Completed' if challenge.is_completed else challenge.challenge_type.value }}
                                    </span>
                                    <div>
                                        <small class="text-muted me-2">
                                            <i class="fas fa-coins text-warning"></i> {{ challenge.reward_coins }}
                                        </small>
                                        <small class="text-muted">
                                            <i class="fas fa-star text-primary"></i> {{ challenge.reward_exp }}
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="col-12">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>No active challenges. Check back later for new challenges!
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>

<div class="card mt-4">
    <div class="card-header">
        <h4 class="mb-0"><i class="fas fa-info-circle me-2"></i>About Challenges</h4>
    </div>
    <div class="card-body">
        <p>Challenges are longer-term goals that you can work towards. There are different types of challenges:</p>
        <ul>
            <li><strong>Savings Challenges:</strong> Save a specific amount of money</li>
            <li><strong>Investment Challenges:</strong> Invest a specific amount of money</li>
            <li><strong>Budgeting Challenges:</strong> Stay within your budget for a period</li>
            <li><strong>Earning Challenges:</strong> Earn a specific amount of money</li>
        </ul>
        <p>Complete challenges to earn bonus coins and experience points!</p>
    </div>
</div>
{% endblock %} 