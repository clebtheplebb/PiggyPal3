{% extends "base.html" %}

{% block title %}Missions - AI Finance App{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12 mb-4">
        <div class="card">
            <div class="card-header">
                <h4>Missions</h4>
            </div>
            <div class="card-body">
                <ul class="nav nav-tabs mb-3" id="missionTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="daily-tab" data-bs-toggle="tab" data-bs-target="#daily" type="button" role="tab">Daily</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="weekly-tab" data-bs-toggle="tab" data-bs-target="#weekly" type="button" role="tab">Weekly</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="monthly-tab" data-bs-toggle="tab" data-bs-target="#monthly" type="button" role="tab">Monthly</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="special-tab" data-bs-toggle="tab" data-bs-target="#special" type="button" role="tab">Special</button>
                    </li>
                </ul>
                
                <div class="tab-content" id="missionTabsContent">
                    <!-- Daily Missions -->
                    <div class="tab-pane fade show active" id="daily" role="tabpanel">
                        <div class="row">
                            {% for mission in missions if mission.mission_type.value == 'Daily' %}
                            <div class="col-md-4 mb-3">
                                <div class="card h-100 {% if mission.is_completed %}border-success{% endif %}">
                                    <div class="card-body">
                                        <h5 class="card-title">{{ mission.title }}</h5>
                                        <p class="card-text">{{ mission.description }}</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span class="badge bg-primary">{{ mission.mission_type.value }}</span>
                                            <div>
                                                <span class="badge bg-warning text-dark">{{ mission.reward_coins }} coins</span>
                                                <span class="badge bg-info">{{ mission.reward_exp }} XP</span>
                                            </div>
                                        </div>
                                        {% if mission.is_completed %}
                                        <div class="mt-2">
                                            <span class="badge bg-success">Completed!</span>
                                        </div>
                                        {% else %}
                                        <div class="mt-2">
                                            <button class="btn btn-sm btn-outline-primary">Start Mission</button>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            {% else %}
                            <div class="col-12">
                                <p class="text-center">No daily missions available at the moment.</p>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <!-- Weekly Missions -->
                    <div class="tab-pane fade" id="weekly" role="tabpanel">
                        <div class="row">
                            {% for mission in missions if mission.mission_type.value == 'Weekly' %}
                            <div class="col-md-4 mb-3">
                                <div class="card h-100 {% if mission.is_completed %}border-success{% endif %}">
                                    <div class="card-body">
                                        <h5 class="card-title">{{ mission.title }}</h5>
                                        <p class="card-text">{{ mission.description }}</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span class="badge bg-primary">{{ mission.mission_type.value }}</span>
                                            <div>
                                                <span class="badge bg-warning text-dark">{{ mission.reward_coins }} coins</span>
                                                <span class="badge bg-info">{{ mission.reward_exp }} XP</span>
                                            </div>
                                        </div>
                                        {% if mission.is_completed %}
                                        <div class="mt-2">
                                            <span class="badge bg-success">Completed!</span>
                                        </div>
                                        {% else %}
                                        <div class="mt-2">
                                            <button class="btn btn-sm btn-outline-primary">Start Mission</button>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            {% else %}
                            <div class="col-12">
                                <p class="text-center">No weekly missions available at the moment.</p>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <!-- Monthly Missions -->
                    <div class="tab-pane fade" id="monthly" role="tabpanel">
                        <div class="row">
                            {% for mission in missions if mission.mission_type.value == 'Monthly' %}
                            <div class="col-md-4 mb-3">
                                <div class="card h-100 {% if mission.is_completed %}border-success{% endif %}">
                                    <div class="card-body">
                                        <h5 class="card-title">{{ mission.title }}</h5>
                                        <p class="card-text">{{ mission.description }}</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span class="badge bg-primary">{{ mission.mission_type.value }}</span>
                                            <div>
                                                <span class="badge bg-warning text-dark">{{ mission.reward_coins }} coins</span>
                                                <span class="badge bg-info">{{ mission.reward_exp }} XP</span>
                                            </div>
                                        </div>
                                        {% if mission.is_completed %}
                                        <div class="mt-2">
                                            <span class="badge bg-success">Completed!</span>
                                        </div>
                                        {% else %}
                                        <div class="mt-2">
                                            <button class="btn btn-sm btn-outline-primary">Start Mission</button>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            {% else %}
                            <div class="col-12">
                                <p class="text-center">No monthly missions available at the moment.</p>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <!-- Special Missions -->
                    <div class="tab-pane fade" id="special" role="tabpanel">
                        <div class="row">
                            {% for mission in missions if mission.mission_type.value == 'Special' %}
                            <div class="col-md-4 mb-3">
                                <div class="card h-100 {% if mission.is_completed %}border-success{% endif %}">
                                    <div class="card-body">
                                        <h5 class="card-title">{{ mission.title }}</h5>
                                        <p class="card-text">{{ mission.description }}</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span class="badge bg-primary">{{ mission.mission_type.value }}</span>
                                            <div>
                                                <span class="badge bg-warning text-dark">{{ mission.reward_coins }} coins</span>
                                                <span class="badge bg-info">{{ mission.reward_exp }} XP</span>
                                            </div>
                                        </div>
                                        {% if mission.is_completed %}
                                        <div class="mt-2">
                                            <span class="badge bg-success">Completed!</span>
                                        </div>
                                        {% else %}
                                        <div class="mt-2">
                                            <button class="btn btn-sm btn-outline-primary">Start Mission</button>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            {% else %}
                            <div class="col-12">
                                <p class="text-center">No special missions available at the moment.</p>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 